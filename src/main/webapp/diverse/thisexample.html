<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>    
    <script>
      $(document).ready(function () {
        var Modul = {
          eigenschaft: "Eigenschaftswert",
          start: function () {
            // Funktioniert:
            alert("start wurde aufgerufen\n" +
                    "this.eigenschaft: " + this.eigenschaft);
            setTimeout(this.verzögert, 100);
            console.log('Button: ' + document.getElementById("button"));
            document.getElementById("button").onclick = this.handler;
          },
          verzögert: function () {
            // Fehler: this verweist auf window
            alert("verzögert wurde aufgerufen\n" +
                    "this.eigenschaft: " + this.location);
          },
          handler: function (e) {
            // Fehler: this verweist auf das Element, dem der Event-Handler anhängt
            alert("handler wurde aufgerufen\n" +
                    "this.eigenschaft: " + this.id);
          }
        };
        Modul.start();

        $.fn.greenify = function () {
          this.css("color", "green");
        };

        $("#button").greenify();

        $.fn.blueBorder = function () {
          this.each(function () {
            $(this).css("border", "solid blue 2px");
          });
          return this;
        };
        $.fn.blueText = function () {
          this.each(function () {
            $(this).css("color", "blue");
          });
          return this;
        };

        $('#button').blueBorder().blueText();
      });
    </script>
  </head>
  <body>
    <div><button id="button">Button, der auf Klick reagiert</button></div>
  </body>
</html>
